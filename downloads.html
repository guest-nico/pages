<html>
<head>
	<title>ダウンロードページ</title>
	<style>
	* {
		margin:0px;
		padding:0px;
		word-break: break-all;
	}
	.md-mainContentBox {
		width: 670px;
		background: white;
		margin:10px;
		padding:4px 12px;
		float: left;
	}
	dt {
		font-weight: bold;
	}
	dd {
		padding-bottom: 8px;
		margin-top: 5px;
		margin-bottom: 8px;
		border-bottom: 1px solid #e6e6e6;
	}
	#bbs a:visited, #bbs2 a:visited {
		color: #0066cc;
	}
	</style>
	
</head>
<body style="background:#f4f4f4;"> 
<div style="width:100%; background:#258d8d; height:50px; padding:15px 0;">

</div>

<section class="md-mainContentBox communityProfile"  style="">
<div style="border: solid 1px; width: 610px; padding: 10px;">
    <p style="font-weight: bold;">チェックツールについて</p>
    ver0.1.9.1ではプッシュ通知と番組表からの取得のみの機能となっておりますが、サーバーの負荷軽減のため、こちらのバージョンをご使用いただけますと幸いです。また、こちらの機能も近く使用できなくなることが考えられます。急なご連絡となってしまい、誠に申し訳ありません。
</div>
<br>
<div style="border: solid 1px; width: 610px; padding: 10px;">
    <p style="font-weight: bold;">録画ツール上で「こちらの放送では動作できません。」と表示された場合</p>
    録画ツールでは動作することができず、コメントのみが取得される動作となります。<br>
    是非、上記のツール様やこちらの掲示板をご参照いただけましたら幸いです。<br>
    <h5>掲示板(生放送配信サーバーの切り替えに関して)</h5>
    <small><a href="https://guest-nico.github.io/pages/bbs2.html">https://guest-nico.github.io/pages/bbs2.html</a></small><br>
	<h5>「こちらの放送では動作できません。」と表示され、コメントのみダウンロードされる</h5>
	<small><a href="https://guest-nico.github.io/pages/rec_readme.html#t-onlyComment">https://guest-nico.github.io/pages/rec_readme.html#t-onlyComment</a></small>
</div>

		<span class="profile_text_inner" id="profile_text_content">
			<br>ニコ生のツールを作っています。
<br>X(twitter)
<br><a href="https://x.com/guest_nico" target="_blank" rel="noopener nofollow">https://x.com/guest_nico</a>
<br>
<br>
<br>-----------------------------------------------<br>
このコミュニティでの開発ではありませんが、ニコ生の録画に対応されているツールです。<br>
ニコ生新配信録画ツール（仮と同様にアラートから起動できます。<br>
是非こちらのツール様もお試しいただけましたら幸いです。<br>
<br>
<font size="4">SlNicoLiveRec(四八福星間開発様)</font><br>
<u><a href="https://person-of-ehomaki.blog.jp/" target="_blank" rel="noopener nofollow">https://person-of-ehomaki.blog.jp/</a></u><br>
<br>
<font size="4">livedl-n(nnn-revo2012様)</font><br>
<u><a href="https://nnn-revo2012.github.io/wiki/livedl-n" target="_blank" rel="noopener nofollow">https://nnn-revo2012.github.io/wiki/livedl-n</a></u><br>
-----------------------------------------------
<br>
<br>
<br><font size="+1">ニコ生新配信録画ツール（仮＋ニコ生録画登録ツール（仮 </font>
<br>・新配信の方式に対応した映像・コメントの保存ツール。namarokuのアプリ設定にnamarokuRecorderと置き換えて使用可能
<br>
<div id="newRec"></div>
<a href="rec_readme.html">readme(録画ツール)<a><br>
<br>
<br><font size="+1">ニコ生放送チェックツール（仮</font>
<br>・カテゴリページ・プッシュ通知から取得した情報で放送開始をチェックする
<div id="newCheck"></div>
<a href="check_readme.html">readme(チェックツール)<a><br>
<br>
<br><font size="+1">NCV用ニコ生視聴プラグイン＆ニコ生視聴ツール</font>
<br>・NCVでニコ生新配信をHLSおよびRTMPで視聴するプラグイン。プラグイン内の視聴プラグイン.exeをニコ生視聴専用ツールとしても使えます。
<div id="newPlay"></div>
<br>
<br>
<br>
<u><font color="silver">　　　　　　　　　　　　　　　　　　　　　　　</font></u>
<br>
<br><font size="+2">更新履歴</font>
<br>
<br><font size="+1">ニコ生新配信録画ツール（仮＋ニコ生録画登録ツール（仮</font>
<div id="updatesRec"></div>
<br>
<br>
<br><font size="+1">ニコ生放送チェックツール（仮</font>
<div id="updatesCheck"></div>
<br>
<br>
<br><font size="+1">NCV用視聴プラグイン&amp;視聴ツール</font>
<div id="updatesPlay"></div>
<br>
<br>
<u><font color="silver">　　　　　　　　　　　　　　　　　　　　　　　</font></u>
<br>github
<br><a href="https://github.com/guest-nico/" target="_blank" rel="noopener nofollow">https://github.com/guest-nico/</a>
<br>
<br>

</span>
</section>

<section class="md-mainContentBox" id="bbs2" style="width: 300px; height: fit-content; background: white; padding-bottom: 10px; display: none;">
掲示板(生放送配信サーバーの切り替えに関して)
<div style="border-bottom: #e6e6e6 1px solid; margin-top: 5px; margin-bottom: 15px;"></div>
<dl style="font-size: 12px"></dl>
<div style="text-align: center;"><a href="bbs2.html">掲示板へ</a></div>
</section>
<section class="md-mainContentBox" id="bbs" style="width: 300px; height: fit-content; background: white; padding-bottom: 10px; display: none;">
掲示板
<div style="border-bottom: #e6e6e6 1px solid; margin-top: 5px; margin-bottom: 15px;"></div>
<dl style="font-size: 12px"></dl>
<div style="text-align: center;"><a href="bbs.html">掲示板へ</a></div>
</section>
</body>
<script>
	var getCommitData = function (s, t) {
		var xhr = new XMLHttpRequest();
		xhr.open("GET", "https://api.github.com/repos/guest-nico/" + s + "/commits");
		//at = "";
		//xhr.setRequestHeader("Authorization", "token " + at);
		xhr.onreadystatechange  = function (e) {
		  if (xhr.readyState === 4) {
			if (xhr.status === 200) {
				var json = JSON.parse(xhr.response);
				console.log(json.length);
				var d = []
				for (var i = 0; i < json.length; i++) {
					//console.log(json[i].commit.message);
					var ms = json[i].commit.message.replace("\r", "").replace("\r\n", "\n")
							.replace("\n\n", "\n").split("\n");
					if (ms.length < 4) continue;
					ms[0] += ms.pop();
					console.log(ms);
					d.push(ms);
				}
				setElement(t, d);
			} else {
			  console.log("error");
			}
		  }
		};
		xhr.send();
	}

	var getElement = function(d, isDescription) {
		var e = document.createElement("div");
		e.innerHTML = "<a href=\"" + d[2] + "\">" + d[0] + "</a>";
		if (isDescription) e.innerHTML += "<br/>" + d[1];
		e.style = "margin: 10px";
		return e;
	}
	setElement = function(t, list) {
		var _new = document.getElementById("new" + t);
		_new.appendChild(getElement(list[0], false));
		for (var i = 0; i < 3; i++)
			document.getElementById("updates" + t).appendChild(getElement(list[i], true));
	}
	getCommitData("nicoNewStreamRecorderKakkoKari", "Rec");
	getCommitData("nicoLiveCheckTool", "Check");
	getCommitData("ncvPlayPlugin", "Play");

//bbs
var addElement = function(item, id) {
	var dtE = document.createElement("dt");
	dtE.innerHTML = '<span class="no">' + item.no + ".</span>" +
		'<span class="name">' + decodeTag(item.name) + ":</span>" +
		'<span class="info">' + item.dt + "</span>";
	var ddE = document.createElement("dd");
	ddE.innerHTML = decodeTag(item.body);
	
	dl = document.getElementById(id).childNodes[3];
	dl.appendChild(dtE);
	dl.appendChild(ddE);
}
var request = function(method, q, data, handler) {
	q += "";
	query = q != "" ? ("?displayNum=" + q) : "";
	var xhr = new XMLHttpRequest();
	xhr.open(method, "https://d8fd29fs7vyjj.cloudfront.net/" + query);
	xhr.setRequestHeader("Content-Type", "application/json")
	xhr.onreadystatechange  = function (e) {
	    if (xhr.readyState === 4) {
		    if (xhr.status === 200) {
				handler(xhr, q);
		    } else {
				console.log("error");
				console.log(xhr);
				var json = JSON.parse(xhr.response);
				document.getElementById("errorMsg").innerHTML = json.msg;
		    }
	    }
	};
	xhr.send(data);
}
var setRes = function (q = "", id) {
	//clearMsg();
	h = function(xhr, q) {
		var json = JSON.parse(xhr.response);
		console.log(json.length);
		//document.getElementsByTagName("dl")[0].innerHTML = "";
		document.getElementById(id).childNodes[3].innerHTML = "";
		for (var i = 0; i < json.items.length; i++) {
			var item = json.items[i];
			console.log(item);
			addElement(item, id);
		}
		document.getElementById(id).style.display = "block";
	}
	request("GET", q, null, h);
}
var decodeTag = function (s) {
	return s.replace(/<([^>]+(?<!br))>/g, "&lt;$1&gt;");
}
setRes(5, "bbs");
setRes("5&b=newserver", "bbs2");
</script>
</html>
